{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paulo\\\\Desktop\\\\react shop\\\\react-shop\\\\my-app\\\\src\\\\Components\\\\Cartpage\\\\CartShowcase\\\\CartCard\\\\CartCard.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './cartCard.scss';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartCard = props => {\n  _s();\n\n  const deleteButton = useRef();\n  let storage = JSON.parse(localStorage.getItem('cart')) || [];\n  const [itemsInProps, setItemsInProps] = useState(storage);\n\n  function deleteCard(x) {\n    let filtered = itemsInProps.filter(function (item) {\n      return item.productid !== x.productid;\n    });\n    setItemsInProps(filtered);\n    props.setTotalPrice(filtered);\n    let total = 0;\n    let cart = storage.map(e => {\n      total += e.quantity;\n    });\n    props.setCartNumber(`${total}`);\n    localStorage.removeItem('cart');\n    localStorage.setItem('cart', JSON.stringify(filtered));\n  }\n\n  function minusQuantity(x) {\n    storage.find(item => {\n      if (item.productid == x.productid) {\n        if (item.quantity == 1) {\n          let filtered = storage.filter(itemFilter => itemFilter !== item);\n          setItemsInProps(filtered);\n          props.setTotalPrice(filtered);\n          let total = 0;\n          let cart = filtered.map(e => {\n            total += e.quantity;\n          });\n          props.setCartNumber(`${total - 1}`);\n          localStorage.removeItem('cart');\n          localStorage.setItem('cart', JSON.stringify(filtered));\n        } else {\n          item.quantity -= 1;\n          setItemsInProps(storage);\n          props.setTotalPrice(storage);\n          props.setCartNumber(`${total}`);\n          localStorage.removeItem('cart');\n          localStorage.setItem('cart', JSON.stringify(storage));\n        }\n      }\n    });\n  }\n\n  function plusQuantity(x) {\n    let total = 0;\n    let cart = storage.map(e => {\n      total += e.quantity;\n    });\n    storage.find(item => {\n      if (item.productid == x.productid) {\n        item.quantity += 1;\n        setItemsInProps(storage);\n        props.setTotalPrice(storage);\n        props.setCartNumber(`${total}`);\n        localStorage.removeItem('cart');\n        localStorage.setItem('cart', JSON.stringify(storage));\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cartCard\",\n    children: itemsInProps.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: deleteButton,\n      className: \"items\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: require(`../../../Homepage/ProductShowcase/images/${item.productImage}`),\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"name\",\n        children: item.productName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"price\",\n        children: [item.productPrice, \"$\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quantity\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            minusQuantity(item);\n          },\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            plusQuantity(item);\n          },\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          deleteCard(item);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 66\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this)]\n    }, uuidv4(), true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartCard, \"Q5vTJ5++JHvXkQN5VJmQoI+xFuo=\");\n\n_c = CartCard;\nexport default CartCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartCard\");","map":{"version":3,"sources":["C:/Users/paulo/Desktop/react shop/react-shop/my-app/src/Components/Cartpage/CartShowcase/CartCard/CartCard.jsx"],"names":["React","v4","uuidv4","useRef","useState","CartCard","props","deleteButton","storage","JSON","parse","localStorage","getItem","itemsInProps","setItemsInProps","deleteCard","x","filtered","filter","item","productid","setTotalPrice","total","cart","map","e","quantity","setCartNumber","removeItem","setItem","stringify","minusQuantity","find","itemFilter","plusQuantity","require","productImage","productName","productPrice"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport './cartCard.scss'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { useRef, useState } from 'react';\r\n\r\nconst CartCard = (props) => {\r\n    const deleteButton = useRef()\r\n\r\n    let storage = JSON.parse(localStorage.getItem('cart')) || []\r\n    const [itemsInProps, setItemsInProps] = useState(storage)\r\n\r\n    function deleteCard(x) {\r\n        let filtered = itemsInProps.filter(function (item) {\r\n            return item.productid !== x.productid\r\n        })\r\n        setItemsInProps(filtered)\r\n        props.setTotalPrice(filtered)\r\n        let total = 0\r\n        let cart = storage.map(e => {\r\n            total += e.quantity\r\n        })\r\n        props.setCartNumber(`${total}`)\r\n        localStorage.removeItem('cart')\r\n        localStorage.setItem('cart', JSON.stringify(filtered));\r\n\r\n    }\r\n    function minusQuantity(x) {\r\n\r\n        storage.find(item => {\r\n            if (item.productid == x.productid) {\r\n\r\n                if (item.quantity == 1) {\r\n                    let filtered = storage.filter(itemFilter => itemFilter !== item)\r\n                    setItemsInProps(filtered)\r\n                    props.setTotalPrice(filtered)\r\n                    \r\n                    let total = 0\r\n                    let cart = filtered.map(e => {\r\n                        total += e.quantity\r\n                    })\r\n                    props.setCartNumber(`${total - 1}`)\r\n                    localStorage.removeItem('cart')\r\n                    localStorage.setItem('cart', JSON.stringify(filtered));\r\n                }\r\n                else {\r\n                    item.quantity -= 1\r\n                    setItemsInProps(storage)\r\n                    props.setTotalPrice(storage)\r\n                    props.setCartNumber(`${total}`)\r\n                    localStorage.removeItem('cart')\r\n                    localStorage.setItem('cart', JSON.stringify(storage));\r\n                }\r\n\r\n            }\r\n        })\r\n    }\r\n    function plusQuantity(x) {\r\n        let total = 0\r\n        let cart = storage.map(e => {\r\n            total += e.quantity\r\n        })\r\n        storage.find(item => {\r\n            if (item.productid == x.productid) {\r\n                item.quantity += 1\r\n                setItemsInProps(storage)\r\n                props.setTotalPrice(storage)\r\n                props.setCartNumber(`${total}`)\r\n                localStorage.removeItem('cart')\r\n                localStorage.setItem('cart', JSON.stringify(storage));\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div className='cartCard'>\r\n            {itemsInProps.map(item => (\r\n                <div ref={deleteButton} className='items' key={uuidv4()}>\r\n                    <img src={require(`../../../Homepage/ProductShowcase/images/${item.productImage}`)} alt=\"\" />\r\n                    <p className='name'>{item.productName}</p>\r\n                    <p className='price'>{item.productPrice}$</p>\r\n                    <div className='quantity'>\r\n                        <button onClick={() => { minusQuantity(item) }}>-</button>\r\n                        <p>{item.quantity}</p>\r\n                        <button onClick={() => { plusQuantity(item) }}>+</button>\r\n                    </div>\r\n                    <button onClick={() => { deleteCard(item) }}><p>x</p></button>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartCard"]},"metadata":{},"sourceType":"module"}