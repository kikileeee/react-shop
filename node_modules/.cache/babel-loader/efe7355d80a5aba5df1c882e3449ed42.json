{"ast":null,"code":"import _slicedToArray from\"C:/Users/paulo/Desktop/React shop site/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./login.scss';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var _useState5=useState('d-none'),_useState6=_slicedToArray(_useState5,2),refUsernamePasswordMatch=_useState6[0],setrefUsernamePasswordMatch=_useState6[1];var body={username:username,password:password};var port=process.env.PORT||'9000';function getDataUsers(){fetch(\"http://192.168.1.113:\".concat(port,\"/users/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}).then(function(response){return response.json().then(function(data){if(data.loginSuccessful){localStorage.removeItem('userInfo');var dataLocal={username:data.username,adminPrivileges:data.adminPrivileges,picture:data.picture};localStorage.setItem('userInfo',JSON.stringify(dataLocal));navigate('/');}else{setrefUsernamePasswordMatch('');}});});}var handleSubmit=function handleSubmit(e){e.preventDefault();};return/*#__PURE__*/_jsxs(\"form\",{className:\"login\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign in\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{className:refUsernamePasswordMatch,children:\"Username and Password dont match\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getDataUsers,children:\"Sign in\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/signup\",children:\"Dont have an account? Sign up\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",onClick:function onClick(){localStorage.removeItem('userInfo');},children:\"Continue as a Guest\"})]});};export default Login;","map":{"version":3,"sources":["C:/Users/paulo/Desktop/React shop site/my-app/src/Components/Loginpage/Login.jsx"],"names":["React","useState","useNavigate","Login","username","setUsername","password","setPassword","navigate","refUsernamePasswordMatch","setrefUsernamePasswordMatch","body","port","process","env","PORT","getDataUsers","fetch","method","headers","JSON","stringify","then","response","json","data","loginSuccessful","localStorage","removeItem","dataLocal","adminPrivileges","picture","setItem","handleSubmit","e","preventDefault","target","value"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,cAAP,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAGA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAAgCJ,QAAQ,CAAC,EAAD,CAAxC,yCAAOK,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,eAAgED,QAAQ,CAAC,QAAD,CAAxE,yCAAOQ,wBAAP,eAAiCC,2BAAjC,eAEA,GAAIC,CAAAA,IAAI,CAAG,CACTP,QAAQ,CAAEA,QADD,CAETE,QAAQ,CAAEA,QAFD,CAAX,CAIA,GAAMM,CAAAA,IAAI,CAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,EAAoB,MAAjC,CACA,QAASC,CAAAA,YAAT,EAAwB,CACtBC,KAAK,gCAAyBL,IAAzB,iBAA6C,CAChDM,MAAM,CAAE,MADwC,CAEhDC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFuC,CAGhDR,IAAI,CAAES,IAAI,CAACC,SAAL,CAAeV,IAAf,CAH0C,CAA7C,CAAL,CAIGW,IAJH,CAIQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,SAAAG,IAAI,CAAI,CAC/C,GAAIA,IAAI,CAACC,eAAT,CAA0B,CACxBC,YAAY,CAACC,UAAb,CAAwB,UAAxB,EACA,GAAIC,CAAAA,SAAS,CAAG,CACdzB,QAAQ,CAAEqB,IAAI,CAACrB,QADD,CAEd0B,eAAe,CAAEL,IAAI,CAACK,eAFR,CAGdC,OAAO,CAAEN,IAAI,CAACM,OAHA,CAAhB,CAKEJ,YAAY,CAACK,OAAb,CAAqB,UAArB,CAAiCZ,IAAI,CAACC,SAAL,CAAeQ,SAAf,CAAjC,EACFrB,QAAQ,CAAC,GAAD,CAAR,CACD,CATD,IAUI,CACFE,2BAA2B,CAAC,EAAD,CAA3B,CACD,CACF,CAdmB,CAAJ,EAJhB,EAmBD,CACD,GAAMuB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GAED,CAHD,CAIA,mBACE,cAAM,SAAS,CAAC,OAAhB,CAAwB,QAAQ,CAAEF,YAAlC,wBACE,+BADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,UAA/B,CAA0C,QAAQ,CAAE,kBAAAC,CAAC,QAAI7B,CAAAA,WAAW,CAAC6B,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf,EAArD,EAFF,cAGE,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA8C,QAAQ,CAAE,kBAAAH,CAAC,QAAI3B,CAAAA,WAAW,CAAC2B,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf,EAAzD,EAHF,cAIE,UAAG,SAAS,CAAE5B,wBAAd,8CAJF,cAKE,eAAQ,OAAO,CAAEO,YAAjB,qBALF,cAME,UAAG,IAAI,CAAC,SAAR,2CANF,cAOE,UAAG,IAAI,CAAC,GAAR,CAAY,OAAO,CAAE,kBAAM,CAACW,YAAY,CAACC,UAAb,CAAwB,UAAxB,EAAoC,CAAhE,iCAPF,GADF,CAWD,CA/CD,CAiDA,cAAezB,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport './login.scss'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const navigate = useNavigate()\r\n  const [refUsernamePasswordMatch, setrefUsernamePasswordMatch] = useState('d-none')\r\n\r\n  let body = {\r\n    username: username,\r\n    password: password\r\n  }\r\n  const port = process.env.PORT || '9000'\r\n  function getDataUsers() {\r\n    fetch(`http://192.168.1.113:${port}/users/login`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(body)\r\n    }).then(response => response.json().then(data => {\r\n      if (data.loginSuccessful) {\r\n        localStorage.removeItem('userInfo')\r\n        let dataLocal = {\r\n          username: data.username,\r\n          adminPrivileges: data.adminPrivileges,\r\n          picture: data.picture\r\n      }\r\n          localStorage.setItem('userInfo', JSON.stringify(dataLocal));\r\n        navigate('/')\r\n      }\r\n      else{\r\n        setrefUsernamePasswordMatch('')\r\n      }\r\n    }))\r\n  }\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n  }\r\n  return (\r\n    <form className='login' onSubmit={handleSubmit} >\r\n      <h2>Sign in</h2>\r\n      <input type=\"text\" placeholder=\"Username\" onChange={e => setUsername(e.target.value)} />\r\n      <input type=\"password\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)}></input>\r\n      <p className={refUsernamePasswordMatch}>Username and Password dont match</p>\r\n      <button onClick={getDataUsers}>Sign in</button>\r\n      <a href=\"/signup\">Dont have an account? Sign up</a>\r\n      <a href=\"/\" onClick={() => {localStorage.removeItem('userInfo')}}>Continue as a Guest</a>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}