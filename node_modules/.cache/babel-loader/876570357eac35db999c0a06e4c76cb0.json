{"ast":null,"code":"import _slicedToArray from\"C:/Users/paulo/Desktop/React shop site/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./cartCard.scss';import{v4 as uuidv4}from'uuid';import{useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartCard=function CartCard(props){var deleteButton=useRef();var storage=JSON.parse(localStorage.getItem('cart'))||[];var _useState=useState(storage),_useState2=_slicedToArray(_useState,2),itemsInProps=_useState2[0],setItemsInProps=_useState2[1];function deleteCard(x){var filtered=itemsInProps.filter(function(item){return item.productid!==x.productid;});setItemsInProps(filtered);props.setTotalPrice(filtered);var total=0;var cart=filtered.map(function(e){total+=e.quantity;});props.setCartNumber(\"\".concat(total));localStorage.removeItem('cart');localStorage.setItem('cart',JSON.stringify(filtered));}function minusQuantity(x){storage.find(function(item){if(item.productid==x.productid){if(item.quantity==1){var filtered=storage.filter(function(itemFilter){return itemFilter!==item;});setItemsInProps(filtered);props.setTotalPrice(filtered);var total=0;var cart=filtered.map(function(e){total+=e.quantity;});props.setCartNumber(\"\".concat(total));localStorage.removeItem('cart');localStorage.setItem('cart',JSON.stringify(filtered));}else{item.quantity-=1;setItemsInProps(storage);props.setTotalPrice(storage);var _total=0;var _cart=storage.map(function(e){_total+=e.quantity;});props.setCartNumber(\"\".concat(_total));localStorage.removeItem('cart');localStorage.setItem('cart',JSON.stringify(storage));}}});}function plusQuantity(x){var total=0;var cart=storage.map(function(e){total+=e.quantity;});storage.find(function(item){if(item.productid==x.productid){item.quantity+=1;setItemsInProps(storage);props.setTotalPrice(storage);props.setCartNumber(\"\".concat(total+1));localStorage.removeItem('cart');localStorage.setItem('cart',JSON.stringify(storage));}});}return/*#__PURE__*/_jsx(\"div\",{className:\"cartCard\",children:itemsInProps.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{ref:deleteButton,className:\"items\",children:[/*#__PURE__*/_jsx(\"img\",{src:require(\"../../../Homepage/ProductShowcase/images/\".concat(item.productImage)),alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:item.productName}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[item.productPrice,\"$\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){minusQuantity(item);},children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){plusQuantity(item);},children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){deleteCard(item);},children:/*#__PURE__*/_jsx(\"p\",{children:\"x\"})})]},uuidv4());})});};export default CartCard;","map":{"version":3,"sources":["C:/Users/paulo/Desktop/React shop site/my-app/src/Components/Cartpage/CartShowcase/CartCard/CartCard.jsx"],"names":["React","v4","uuidv4","useRef","useState","CartCard","props","deleteButton","storage","JSON","parse","localStorage","getItem","itemsInProps","setItemsInProps","deleteCard","x","filtered","filter","item","productid","setTotalPrice","total","cart","map","e","quantity","setCartNumber","removeItem","setItem","stringify","minusQuantity","find","itemFilter","plusQuantity","require","productImage","productName","productPrice"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport './cartCard.scss'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { useRef, useState } from 'react';\r\n\r\nconst CartCard = (props) => {\r\n    const deleteButton = useRef()\r\n\r\n    let storage = JSON.parse(localStorage.getItem('cart')) || []\r\n    const [itemsInProps, setItemsInProps] = useState(storage)\r\n\r\n    function deleteCard(x) {\r\n        let filtered = itemsInProps.filter(function (item) {\r\n            return item.productid !== x.productid\r\n        })\r\n        setItemsInProps(filtered)\r\n        props.setTotalPrice(filtered)\r\n        let total = 0\r\n        let cart = filtered.map(e => {\r\n            total += e.quantity\r\n        })\r\n        props.setCartNumber(`${total}`)\r\n        localStorage.removeItem('cart')\r\n        localStorage.setItem('cart', JSON.stringify(filtered));\r\n\r\n    }\r\n    function minusQuantity(x) {\r\n\r\n        storage.find(item => {\r\n            if (item.productid == x.productid) {\r\n\r\n                if (item.quantity == 1) {\r\n                    let filtered = storage.filter(itemFilter => itemFilter !== item)\r\n                    setItemsInProps(filtered)\r\n                    props.setTotalPrice(filtered)\r\n                    \r\n                    let total = 0\r\n                    let cart = filtered.map(e => {\r\n                        total += e.quantity\r\n                    })\r\n                    props.setCartNumber(`${total}`)\r\n                    localStorage.removeItem('cart')\r\n                    localStorage.setItem('cart', JSON.stringify(filtered));\r\n                }\r\n                else {\r\n                    item.quantity -= 1\r\n                    setItemsInProps(storage)\r\n                    props.setTotalPrice(storage)\r\n                    let total = 0\r\n                    let cart = storage.map(e => {\r\n                        total += e.quantity\r\n                    })\r\n                    props.setCartNumber(`${total}`)\r\n                    localStorage.removeItem('cart')\r\n                    localStorage.setItem('cart', JSON.stringify(storage));\r\n                }\r\n\r\n            }\r\n        })\r\n    }\r\n    function plusQuantity(x) {\r\n        let total = 0\r\n        let cart = storage.map(e => {\r\n            total += e.quantity\r\n        })\r\n        storage.find(item => {\r\n            if (item.productid == x.productid) {\r\n                item.quantity += 1\r\n                setItemsInProps(storage)\r\n                props.setTotalPrice(storage)\r\n                props.setCartNumber(`${total +1}`)\r\n                localStorage.removeItem('cart')\r\n                localStorage.setItem('cart', JSON.stringify(storage));\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div className='cartCard'>\r\n            {itemsInProps.map(item => (\r\n                <div ref={deleteButton} className='items' key={uuidv4()}>\r\n                    <img src={require(`../../../Homepage/ProductShowcase/images/${item.productImage}`)} alt=\"\" />\r\n                    <p className='name'>{item.productName}</p>\r\n                    <p className='price'>{item.productPrice}$</p>\r\n                    <div className='quantity'>\r\n                        <button onClick={() => { minusQuantity(item) }}>-</button>\r\n                        <p>{item.quantity}</p>\r\n                        <button onClick={() => { plusQuantity(item) }}>+</button>\r\n                    </div>\r\n                    <button onClick={() => { deleteCard(item) }}><p>x</p></button>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartCard"]},"metadata":{},"sourceType":"module"}