{"ast":null,"code":"import _slicedToArray from\"C:/Users/paulo/Desktop/react shop/react-shop/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Navbar from'../Homepage/Navbar/Navbar';import'./products.scss';import{v4 as uuidv4}from'uuid';import AddShoppingCartIcon from'@mui/icons-material/AddShoppingCartSharp';import SearchIcon from'@mui/icons-material/Search';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Products=function Products(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Products=_useState2[0],SetProducts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Search=_useState4[0],setSearch=_useState4[1];var navigate=useNavigate();useEffect(function(){fetch('http://192.168.1.113:9000/popular',{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json().then(function(data){SetProducts(data);});});},[]);function addItem(x){var a=[];var pushNewData=true;a=JSON.parse(localStorage.getItem('cart'))||[];var total=1;var cart=a.map(function(e){total+=e.quantity;});a.find(function(item){if(item.productid==x.productid){item.quantity+=1;pushNewData=false;props.setCartNumber(\"\".concat(total));localStorage.setItem('cart',JSON.stringify(a));}});if(pushNewData){x.quantity=1;a.push(x);props.setCartNumber(\"\".concat(total));localStorage.setItem('cart',JSON.stringify(a));}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{cartNumber:props.cartNumber,setCartNumber:props.setCartNumber}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"products\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"\",children:[\" Search\",/*#__PURE__*/_jsx(SearchIcon,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){setSearch(e.target.value);}})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"All Products\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productsPanel\",children:Products.filter(function(e){if(Search==''){return e;}else if(e.productName.toLowerCase().includes(Search.toLowerCase())){return e;}}).map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:product.productName}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Current price: \",product.productPrice,\"$\"]}),/*#__PURE__*/_jsx(\"h4\",{onClick:function onClick(){navigate(\"/productInfo\",{state:{product:product}});},children:\"Click for more info\"}),/*#__PURE__*/_jsx(\"img\",{src:require(\"../Homepage/ProductShowcase/images/\".concat(product.productImage)),alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"blackOverlay\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){addItem(product);},children:/*#__PURE__*/_jsx(AddShoppingCartIcon,{})})})]},uuidv4());})})]})})]});};export default Products;","map":{"version":3,"sources":["C:/Users/paulo/Desktop/react shop/react-shop/my-app/src/Components/Products/Products.jsx"],"names":["React","useState","useEffect","Navbar","v4","uuidv4","AddShoppingCartIcon","SearchIcon","useNavigate","Products","props","SetProducts","Search","setSearch","navigate","fetch","method","headers","then","response","json","data","addItem","x","a","pushNewData","JSON","parse","localStorage","getItem","total","cart","map","e","quantity","find","item","productid","setCartNumber","setItem","stringify","push","cartNumber","target","value","filter","productName","toLowerCase","includes","product","productPrice","state","require","productImage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Navbar from '../Homepage/Navbar/Navbar'\r\nimport './products.scss'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCartSharp';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Products = (props) => {\r\n    const [Products, SetProducts] = useState([]);\r\n    const [Search, setSearch] = useState('')\r\n    const navigate = useNavigate()\r\n    useEffect(() => {\r\n        fetch('http://192.168.1.113:9000/popular', {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }).then(response => response.json().then(data => {\r\n            SetProducts(data)\r\n        }))\r\n    }, [])\r\n    function addItem(x) {\r\n        let a = []\r\n        let pushNewData = true\r\n        a = JSON.parse(localStorage.getItem('cart')) || [];\r\n\r\n        let total = 1\r\n        let cart = a.map(e => {\r\n            total += e.quantity\r\n        })\r\n\r\n        a.find(item => {\r\n            if (item.productid == x.productid) {\r\n                item.quantity += 1\r\n                pushNewData = false\r\n                props.setCartNumber(`${total}`)\r\n                localStorage.setItem('cart', JSON.stringify(a))\r\n            }\r\n        })\r\n        if (pushNewData) {\r\n            x.quantity = 1\r\n            a.push(x);\r\n            props.setCartNumber(`${total}`)\r\n            localStorage.setItem('cart', JSON.stringify(a))\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <Navbar cartNumber={props.cartNumber} setCartNumber={props.setCartNumber} />\r\n            <div>\r\n                <div className='products'>\r\n                    <div className='search'>\r\n                        <label htmlFor=\"\"> Search\r\n                            <SearchIcon />\r\n                            <input type=\"text\" onChange={e => { setSearch(e.target.value) }} />\r\n                        </label>\r\n                        \r\n                    <h1>All Products</h1>\r\n                    </div>\r\n\r\n                    <div className='productsPanel'>\r\n                        {Products.filter(e => {\r\n                            if (Search == '') {\r\n                                return e\r\n                            } else if (e.productName.toLowerCase().includes(Search.toLowerCase())) {\r\n                                return e\r\n                            }\r\n                        }).map(product => {\r\n                            return <div className='card' key={uuidv4()}>\r\n                                <h2>{product.productName}</h2>\r\n                                <h3>Current price: {product.productPrice}$</h3>\r\n                                <h4 onClick={() => {navigate(`/productInfo`,{state:{product:product}})}}>Click for more info</h4>\r\n                                <img src={require(`../Homepage/ProductShowcase/images/${product.productImage}`)} alt=\"\" />\r\n                                <div className='blackOverlay'>\r\n                                    <button onClick={() => { addItem(product) }}><AddShoppingCartIcon /></button>\r\n\r\n                                </div>\r\n                            </div>\r\n                        })}\r\n\r\n                    </div>\r\n                </div >\r\n            </div >\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Products"]},"metadata":{},"sourceType":"module"}