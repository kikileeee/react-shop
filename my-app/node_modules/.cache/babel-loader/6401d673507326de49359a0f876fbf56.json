{"ast":null,"code":"import _slicedToArray from\"C:/Users/paulo/Desktop/react shop/react-shop/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import'./productShowcase.scss';import{v4 as uuidv4}from'uuid';import AddShoppingCartIcon from'@mui/icons-material/AddShoppingCartSharp';import ArrowForwardIosIcon from'@mui/icons-material/ArrowForwardIos';import ArrowBackIosNewIcon from'@mui/icons-material/ArrowBackIosNew';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductShowcase=function ProductShowcase(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Products=_useState2[0],SetProducts=_useState2[1];var inputBackNext=useRef();var navigate=useNavigate();useEffect(function(){fetch('http://192.168.1.113:9000/'+props.fetch,{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json().then(function(data){SetProducts(data);});});},[]);var scroll=function scroll(scrollOffset){inputBackNext.current.scrollLeft+=scrollOffset;};function goBack(){scroll(-340);}function goNext(){scroll(340);}function addItem(x){var a=[];var pushNewData=true;a=JSON.parse(localStorage.getItem('cart'))||[];var total=1;var cart=a.map(function(e){total+=e.quantity;});a.find(function(item){if(item.productid==x.productid){item.quantity+=1;pushNewData=false;props.setCartNumber(\"\".concat(total));localStorage.setItem('cart',JSON.stringify(a));}});if(pushNewData){x.quantity=1;a.push(x);props.setCartNumber(\"\".concat(total));localStorage.setItem('cart',JSON.stringify(a));}}return/*#__PURE__*/_jsxs(\"div\",{className:\"productShowcaseWrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:props.name}),/*#__PURE__*/_jsx(\"div\",{className:\"productShowcase\",ref:inputBackNext,children:/*#__PURE__*/_jsxs(\"div\",{className:\"slides\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"divBack\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back\",onClick:goBack,children:/*#__PURE__*/_jsx(ArrowBackIosNewIcon,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"divNext\",children:/*#__PURE__*/_jsx(\"button\",{className:\"next\",onClick:goNext,children:/*#__PURE__*/_jsx(ArrowForwardIosIcon,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"productCard\",children:Products.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:product.productName}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Current price: \",product.productPrice,\"$\"]}),/*#__PURE__*/_jsx(\"h4\",{onClick:function onClick(){navigate(\"/productInfo\",{state:{product:product}});},children:\"Click for more info\"}),/*#__PURE__*/_jsx(\"img\",{src:require(\"../ProductShowcase/images/\".concat(product.productImage)),alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"blackOverlay\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){addItem(product);},children:/*#__PURE__*/_jsx(AddShoppingCartIcon,{})})})]},uuidv4());})})]})})]});};export default ProductShowcase;","map":{"version":3,"sources":["C:/Users/paulo/Desktop/react shop/react-shop/my-app/src/Components/Homepage/ProductShowcase/ProductShowcase.jsx"],"names":["React","useState","useEffect","useRef","v4","uuidv4","AddShoppingCartIcon","ArrowForwardIosIcon","ArrowBackIosNewIcon","useNavigate","ProductShowcase","props","Products","SetProducts","inputBackNext","navigate","fetch","method","headers","then","response","json","data","scroll","scrollOffset","current","scrollLeft","goBack","goNext","addItem","x","a","pushNewData","JSON","parse","localStorage","getItem","total","cart","map","e","quantity","find","item","productid","setCartNumber","setItem","stringify","push","name","product","productName","productPrice","state","require","productImage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\r\nimport './productShowcase.scss'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCartSharp';\r\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\r\nimport ArrowBackIosNewIcon from '@mui/icons-material/ArrowBackIosNew';\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst ProductShowcase = (props) => {\r\n    const [Products, SetProducts] = useState([]);\r\n    const inputBackNext = useRef()\r\n    const navigate = useNavigate()\r\n    useEffect(() => {\r\n        fetch('http://192.168.1.113:9000/' + props.fetch, {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }).then(response => response.json().then(data => {\r\n            SetProducts(data)\r\n        }))\r\n    }, [])\r\n    const scroll = (scrollOffset) => {\r\n        inputBackNext.current.scrollLeft += scrollOffset;\r\n    };\r\n\r\n    function goBack() {\r\n        scroll(-340)\r\n    }\r\n    function goNext() {\r\n        scroll(340)\r\n    }\r\n    function addItem(x) {\r\n        let a = []\r\n        let pushNewData = true\r\n        a = JSON.parse(localStorage.getItem('cart')) || [];\r\n\r\n        let total = 1\r\n        let cart = a.map(e => {\r\n            total += e.quantity\r\n        })\r\n\r\n        a.find(item => {\r\n            if (item.productid == x.productid) {\r\n                item.quantity += 1\r\n                pushNewData = false\r\n                props.setCartNumber(`${total}`)\r\n                localStorage.setItem('cart', JSON.stringify(a))\r\n            }\r\n        })\r\n        if (pushNewData) {\r\n            x.quantity = 1\r\n            a.push(x);\r\n            props.setCartNumber(`${total}`)\r\n            localStorage.setItem('cart', JSON.stringify(a))\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='productShowcaseWrapper'>\r\n\r\n            <h1>{props.name}</h1>\r\n            <div className='productShowcase' ref={inputBackNext}>\r\n                <div className='slides'>\r\n                    <div className='divBack'><button className='back' onClick={goBack} ><ArrowBackIosNewIcon /></button></div>\r\n                    <div className='divNext'><button className='next' onClick={goNext}><ArrowForwardIosIcon /></button></div>\r\n                    <div className='productCard'>\r\n                        {Products.map(product => (\r\n                            <div className='card' key={uuidv4()}>\r\n                                <h2>{product.productName}</h2>\r\n                                <h3>Current price: {product.productPrice}$</h3>\r\n                                <h4 onClick={() => {navigate(`/productInfo`,{state:{product:product}})}}>Click for more info</h4>\r\n                                <img src={require(`../ProductShowcase/images/${product.productImage}`)} alt=\"\" />\r\n                                <div className='blackOverlay'>\r\n                                    <button onClick={() => { addItem(product) }}><AddShoppingCartIcon /></button>\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductShowcase"]},"metadata":{},"sourceType":"module"}